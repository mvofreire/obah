{"version":3,"sources":["../../application/middlewares/database.js"],"names":["ENV","process","env","NODE_ENV","config","appConfig","database","DB_PROTOCOL","DB_HOST","DB_USER","DB_PASSWORD","DB_DATABASE","DB_PORT","DB_OPTIONS","connectionString","mongoose","connect","useCreateIndex","useNewUrlParser","then","console","log","err"],"mappings":";;;;;;;AAAA;;AACA;;;;AAEA,IAAMA,GAAG,GAAGC,OAAO,CAACC,GAAR,CAAYC,QAAZ,IAAwB,KAApC;AACA,IAAMC,MAAM,GAAGC,iBAAUC,QAAV,CAAmBN,GAAnB,CAAf;AAEA,IAAMO,WAAW,GAAGH,MAAM,CAACG,WAA3B;AACA,IAAMC,OAAO,GAAGJ,MAAM,CAACI,OAAvB;AACA,IAAMC,OAAO,GAAGL,MAAM,CAACK,OAAvB;AACA,IAAMC,WAAW,GAAGN,MAAM,CAACM,WAA3B;AACA,IAAMC,WAAW,GAAGP,MAAM,CAACO,WAA3B;AACA,IAAMC,OAAO,GAAGR,MAAM,CAACQ,OAAvB;AACA,IAAMC,UAAU,GAAGT,MAAM,CAACS,UAAP,IAAqB,EAAxC;AAEA,IAAMC,gBAAgB,aAAMP,WAAN,SAAoBE,OAApB,cAA+BC,WAA/B,cAA8CF,OAA9C,SAAwDI,OAAxD,cAAmED,WAAnE,cAAkFE,UAAlF,CAAtB;;eACe,oBAAM;AACnBE,uBACGC,OADH,CACWF,gBADX,EAC6B;AAAEG,IAAAA,cAAc,EAAE,IAAlB;AAAwBC,IAAAA,eAAe,EAAE;AAAzC,GAD7B,EAEGC,IAFH,CAEQ,YAAM;AACVC,IAAAA,OAAO,CAACC,GAAR,8BAAkCrB,GAAlC;AACD,GAJH,WAKS,UAAAsB,GAAG,EAAI;AACZF,IAAAA,OAAO,CAACC,GAAR,CAAYC,GAAZ;AACD,GAPH;AAQD,C","sourcesContent":["import mongoose from \"mongoose\";\r\nimport appConfig from \"../config/main\";\r\n\r\nconst ENV = process.env.NODE_ENV || \"dev\";\r\nconst config = appConfig.database[ENV];\r\n\r\nconst DB_PROTOCOL = config.DB_PROTOCOL;\r\nconst DB_HOST = config.DB_HOST;\r\nconst DB_USER = config.DB_USER;\r\nconst DB_PASSWORD = config.DB_PASSWORD;\r\nconst DB_DATABASE = config.DB_DATABASE;\r\nconst DB_PORT = config.DB_PORT;\r\nconst DB_OPTIONS = config.DB_OPTIONS || \"\";\r\n\r\nconst connectionString = `${DB_PROTOCOL}${DB_USER}:${DB_PASSWORD}@${DB_HOST}${DB_PORT}/${DB_DATABASE}?${DB_OPTIONS}`;\r\nexport default () => {\r\n  mongoose\r\n    .connect(connectionString, { useCreateIndex: true, useNewUrlParser: true })\r\n    .then(() => {\r\n      console.log(`MongoDB Conectado: ${ENV}`);\r\n    })\r\n    .catch(err => {\r\n      console.log(err);\r\n    });\r\n};\r\n"],"file":"database.js"}